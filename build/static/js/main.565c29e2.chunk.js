(this.webpackJsonpararat=this.webpackJsonpararat||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){},202:function(e,t){},204:function(e,t){},216:function(e,t){},218:function(e,t){},246:function(e,t){},247:function(e,t){},252:function(e,t){},254:function(e,t){},261:function(e,t){},280:function(e,t){},314:function(e,t,n){"use strict";n.r(t);var a,s,r=n(1),c=n.n(r),i=n(167),o=n.n(i),l=(n(178),n.p,n(179),n(49)),u=n(15),d=n(7),h=n(20),j=n(21),b=n(40),m=n(23),p=n(22),f=n(13),O=n.n(f),v=n(29),x=n.n(v),g=(n(55),n(0)),y=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={email:"",password:""},a.email=a.email.bind(Object(b.a)(a)),a.password=a.password.bind(Object(b.a)(a)),a.handleAuth=a.handleAuth.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"email",value:function(e){this.setState({email:e.target.value})}},{key:"password",value:function(e){this.setState({password:e.target.value})}},{key:"handleAuth",value:function(e){var t=this;this.setState({show:!0});var n={email:this.state.email,password:this.state.password};O.a.post("https://authentication.hyehosting.com/authenticate",{user:n}).then((function(e){if("success"==e.data.status){!function(e,t,n){var a="";if(n){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3),a="; expires="+s.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/"}("token",e.data.token,1),t.setState({show:!1}),window.location.href="/"}else t.setState({show:!1}),alert("Invalid email/password")})),e.preventDefault()}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{show:this.state.show,color:"red",showSpinner:!1}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{class:"p-5 d-flex justify-items-center",children:Object(g.jsx)("img",{src:"/images/logo.png",className:"mx-auto",style:{marginTop:"10rem"},width:"128rem"})}),Object(g.jsxs)("form",{onSubmit:this.handleAuth,children:[Object(g.jsx)("input",{value:this.state.email,onChange:this.email,type:"email",id:"inputEmail",name:"email",class:"form-control login",placeholder:"Email Address",required:!0,autofocus:!0}),Object(g.jsx)("input",{value:this.state.password,onChange:this.password,type:"password",id:"inputPassword",name:"password",class:"form-control login",placeholder:"Password",required:!0}),Object(g.jsx)("button",{class:"btn btn-blue-lg d-block mx-auto mt-3",type:"submit",children:"Login"})]})]})]})}}]),n}(r.Component),w=n(168),k=n(8),S=n.n(k),_=n(24),D=n(64),C=n.n(D),N=n(11),F=n.n(N),E=n(27),A=n.n(E),I=n(41),T=n.n(I),L=n(51),M=n(173),P=n(91),U=n(92),q=Object(U.b)(a||(a=Object(P.a)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),B=U.a.div(s||(s=Object(P.a)(["\n  @media (prefers-reduced-motion: no-preference) {\n    animation-name: ",";\n    animation-fill-mode: backwards;\n  }\n"])),q),J=function(e){var t=e.duration,n=void 0===t?300:t,a=e.delay,s=void 0===a?0:a,r=e.children,c=Object(M.a)(e,["duration","delay","children"]);return Object(g.jsx)(B,Object(L.a)(Object(L.a)({},c),{},{style:Object(L.a)(Object(L.a)({},c.style||{}),{},{animationDuration:n+"ms",animationDelay:s+"ms"}),children:r}))},K=n(52),W=n(54),Y=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)(J,{children:Object(g.jsx)(u.b,{to:"server/".concat(this.props.id),style:{textDecoration:"none"},children:Object(g.jsx)("div",{class:"p-4 mb-3 server-row",style:{backgroundColor:"rgb(50, 50, 50)"},children:Object(g.jsxs)("div",{class:"d-flex justify-content-between",style:{alignItems:"center"},children:[Object(g.jsxs)("div",{className:"col-md-4 col-sm-3 ",children:[Object(g.jsxs)("div",{className:"d-flex",children:["running"==this.props.current_state?Object(g.jsx)(K.a,{className:"mt-2 me-2",icon:W.a,color:"green"}):"","offline"==this.props.current_state?Object(g.jsx)(K.a,{className:"mt-2 me-2",icon:W.a,color:"red"}):"","starting"==this.props.current_state?Object(g.jsx)(K.a,{className:"mt-2 me-2",icon:W.a,color:"yellow"}):"","stopping"==this.props.current_state?Object(g.jsx)(K.a,{className:"mt-2 me-2",icon:W.a,color:"orange"}):"","loading"==this.props.current_state?Object(g.jsx)(A.a,{className:"me-2",color:"#EC635D",type:"spin",height:20,width:20}):"",Object(g.jsx)("h3",{children:this.props.name})]}),this.props.description?Object(g.jsx)("p",{children:this.props.description}):""]}),Object(g.jsx)("div",{className:"col-md-2 d-none d-sm-block",children:Object(g.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(g.jsx)("p",{children:this.props.current_disk}),Object(g.jsxs)("p",{children:["/",this.props.disk]})]})}),Object(g.jsx)("div",{className:"col-md-2 d-none d-sm-block",children:Object(g.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(g.jsx)("p",{children:this.props.current_memory}),Object(g.jsxs)("p",{children:["/",this.props.memory]})]})})]})})})})}}]),n}(r.Component);var z=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={loadingUserData:!0,loadingServerData:!0,email:null,first_name:null,last_name:null,user_id:null,servers:null,server_resources:null},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(_.a)(S.a.mark((function e(){var t,n,a,s,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Dashboard",this.setState({show:!0}),t=C.a.decode(F.a.get("token")),this.setState({email:t.email,first_name:t.first_name,last_name:t.last_name,user_id:t.id,loadingUserData:!1}),e.next=6,O.a.get("https://ararat-backend.hyehosting.com/servers?token=".concat(F.a.get("token")));case 6:n=e.sent,console.log(n.data.data),a=n.data.data?n.data.data:n.data,console.log(a),this.setState({servers:a,loadingServerData:!1}),0==a.length||(r=function(){return(r=Object(_.a)(S.a.mark((function e(t){var n,s,r,c,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],s=Object(w.a)(a),e.prev=2,s.s();case 4:if((r=s.n()).done){e.next=13;break}return c=r.value,e.next=8,O.a.get("https://ararat-backend.hyehosting.com/servers/".concat(c.attributes.identifier,"/resources?token=").concat(F.a.get("token")));case 8:i=e.sent,n.push({data:i.data,uuid:c.attributes.identifier}),this.setState({show:!0});case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),s.e(e.t0);case 18:return e.prev=18,s.f(),e.finish(18);case 21:this.setState({server_resources:n});case 22:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})))).apply(this,arguments)},(s=function(e){return r.apply(this,arguments)})(),setInterval(Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s();case 1:case"end":return e.stop()}}),e)}))),3e4)),this.setState({show:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{show:this.state.show,color:"red",showSpinner:!1}),Object(g.jsxs)("div",{class:"container",children:[Object(g.jsx)(J,{children:Object(g.jsx)("h1",{style:{fontWeight:"bold"},children:"Your Servers"})}),this.state.loadingServerData?Object(g.jsx)("div",{className:"d-flex justify-content-evenly",children:Object(g.jsx)(A.a,{color:"#EC635D",type:"spin"})}):Object(g.jsx)(g.Fragment,{children:0==this.state.servers.length?Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{className:"text-center mt-5",children:"Looks Like You Don't Have Any Servers!"}),Object(g.jsx)("div",{className:"col mt-3 text-center",children:Object(g.jsx)(u.b,{className:"mx-auto",to:"/order",children:Object(g.jsx)("button",{className:"btn btn-blue-lg",children:"Order Now"})})})]}):Object(g.jsx)("div",{className:"row",children:this.state.servers.map((function(t){return Object(g.jsx)(Y,{name:t.attributes.name,description:t.attributes.description,current_memory:e.state.server_resources instanceof Array?T()(e.state.server_resources.filter((function(e){return e.uuid==t.attributes.identifier}))[0].data.attributes.resources.memory_bytes,{binary:!0}):Object(g.jsx)(A.a,{color:"#EC635D",type:"spin",height:20,width:20}),memory:T()(1048576*t.attributes.limits.memory,{binary:!0}),current_disk:e.state.server_resources instanceof Array?T()(e.state.server_resources.filter((function(e){return e.uuid==t.attributes.identifier}))[0].data.attributes.resources.disk_bytes,{binary:!0}):Object(g.jsx)(A.a,{color:"#EC635D",type:"spin",height:20,width:20}),current_state:e.state.server_resources instanceof Array?e.state.server_resources.filter((function(e){return e.uuid==t.attributes.identifier}))[0].data.attributes.current_state:"loading",disk:T()(1048576*t.attributes.limits.disk,{binary:!0}),id:t.attributes.identifier},t.attributes.id)}))})})]})]})}}]),n}(r.Component),G=n(42);function H(){return(H=Object(_.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://ararat-backend.hyehosting.com/server/".concat(t,"?token=").concat(F.a.get("token")));case 2:a=e.sent,n(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(e,t){return H.apply(this,arguments)};function V(){return(V=Object(_.a)(S.a.mark((function e(t,n,a){var s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://ararat-backend.hyehosting.com/server/".concat(t,"/files?directory=%2F").concat(n.replace("#",""),"&token=").concat(F.a.get("token")));case 2:s=e.sent,a(s.data.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e,t,n){return V.apply(this,arguments)};var X=function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)("p",{children:["File: ",e.file_name]})})};var Z=Object(d.j)((function(){Object(d.h)().search;var e=Object(d.i)().uuid,t=Object(d.g)(),n=Object(r.useState)((function(){if(""==!window.location.hash)return window.location.hash;t.push({hash:"/"})})),a=Object(G.a)(n,2),s=(a[0],a[1]),c=Object(r.useState)((function(){return!0})),i=Object(G.a)(c,2),o=i[0],l=i[1],h=Object(r.useState)((function(){return null})),j=Object(G.a)(h,2),b=j[0],m=j[1],p=Object(r.useState)((function(){return null})),f=Object(G.a)(p,2),O=(f[0],f[1],Object(r.useState)((function(){return null}))),v=Object(G.a)(O,2),y=v[0],w=v[1];return Object(r.useEffect)((function(){t.listen((function(t,n){l(!0),s(window.location.hash),Q(e,window.location.hash,(function(e){w(e),l(!1)}))}))}),[]),Object(r.useEffect)((function(){l(!0),R(e,(function(e){m(e.attributes.name),l(!0),document.title=e.attributes.name+" | Files",l(!0)}))}),[]),Object(r.useEffect)((function(){l(!0),Q(e,window.location.hash,(function(e){w(e),l(!1)}))}),[]),Object(r.useEffect)((function(){setInterval((function(){l(!0),R(e,(function(e){m(e.attributes.name),l(!0),b&&(document.title=b+" | Files"),l(!0)})),Q(e,window.location.hash,(function(e){w(e),l(!1)}))}),1e4)}),[]),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(u.b,{to:"/server/".concat(e),children:"Console"}),Object(g.jsx)(x.a,{show:o,color:"red",showSpinner:!1}),b?Object(g.jsx)(J,{children:Object(g.jsx)("h1",{className:"mt-3 mb-3",children:b})}):"",y?Object(g.jsx)(J,{children:y.map((function(t){return Object(g.jsxs)(u.b,{onClick:function(){return n=t.attributes.name,l(!0),void Q(e,n,(function(e){w(e),l(!1)}));var n},to:"".concat(window.location.hash).concat(t.attributes.name,"/"),children:["           ",Object(g.jsx)(X,{file_name:t.attributes.name})]},Math.random().toString(36).substring(2))}))}):Object(g.jsx)("div",{className:"d-flex justify-content-evenly",children:Object(g.jsx)(A.a,{color:"#EC635D",type:"spin"})})]})})),$=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{})}}]),n}(r.Component),ee=n(95),te=n(96),ne=n(172),ae=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={server_name:null,email:null,first_name:null,last_name:null,user_id:null,loadingUserData:!0,loadingServerData:!0,loadingConsoleData:!0,input:"",sock:{},server_type:null},a}return Object(j.a)(n,[{key:"handleInputChanged",value:function(e){this.setState({input:e.target.value})}},{key:"do",value:function(e){e.preventDefault();var t=this.state.input;this.state.sock.send(t),console.log(t),this.setState({input:""})}},{key:"handleEnter",value:function(){var e=this.state.input;this.state.sock.send(e),console.log(e)}},{key:"componentDidMount",value:function(){var e=Object(_.a)(S.a.mark((function e(){var t,n,a,s,r,c,i,o,l,u,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({show:!0}),t=C.a.decode(F.a.get("token")),this.setState({email:t.email,first_name:t.first_name,last_name:t.last_name,user_id:t.id,loadingUserData:!1}),e.next=5,O.a.get("https://ararat-backend.hyehosting.com/server/".concat(this.props.match.params.uuid,"/type?token=").concat(F.a.get("token")));case 5:return n=e.sent.data,e.next=8,O.a.get("https://ararat-backend.hyehosting.com/server/".concat(this.props.match.params.uuid,"?token=").concat(F.a.get("token")));case 8:a=e.sent,this.setState({server_name:a.data.attributes.name,loadingServerData:!1,server_type:n}),document.title="".concat(a.data.attributes.name," | Console"),"Minecraft"==n&&(s=new ee.Terminal({disableStdin:!0,theme:{background:"#1e1e1e"}}),r=new te.FitAddon,s.loadAddon(r),this.setState({loadingConsoleData:!1}),c=document.getElementById("console"),s.open(c),i=new WebSocket("wss://ararat-backend.hyehosting.com/server/minecraft/console?server=".concat(a.data.attributes.identifier)),this.setState({sock:i}),console.log(i),r.fit(),window.onresize=function(){r.fit()},i.onmessage=function(e){"ERR_JWT_NOT_VALID"==e.data&&document.location.reload(),s.writeln(e.data)},this.setState({show:!1}),this.sub=function(){var e=this.state.input;i.send(e)},this.handleChange=function(e){this.setState({input:e.target.value})}),"N-VPS"==n&&(o=new ee.Terminal({}),l=new te.FitAddon,u=new ne.AttachAddon(new WebSocket("wss://ararat-backend.hyehosting.com/server/n-vps/console?server="+a.data.attributes.uuid.replace(/[0-9]/g,"").replace(/[^a-zA-Z ]/g,""))),o.loadAddon(l),o.loadAddon(u),this.setState({loadingConsoleData:!1}),d=document.getElementById("console"),o.open(d),l.fit(),window.onresize=function(){l.fit()},this.setState({show:!1}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.css",integrity:"sha512-iLYuqv+v/P4u9erpk+KM83Ioe/l7SEmr7wB6g+Kg1qmEit8EShDKnKtLHlv2QXUp7GGJhmqDI+1PhJYLTsfb8w==",crossorigin:"anonymous",referrerpolicy:"no-referrer"}),Object(g.jsx)($,{}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(x.a,{show:this.state.show,color:"red",showSpinner:!1}),this.state.loadingServerData?"":Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(J,{children:[Object(g.jsx)("h1",{className:"mt-3 mb-3",children:this.state.server_name}),Object(g.jsx)(u.b,{to:"/server/".concat(this.props.match.params.uuid,"/files#/"),children:"File Manager"})]})}),this.state.loadingConsoleData?"":Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(J,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{id:"console",style:{height:"40rem"}}),"Minecraft"==this.state.server_type?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("form",{onSubmit:this.do.bind(this),children:Object(g.jsx)("input",{style:{width:"100%"},type:"text",className:"form-control",placeholder:"Type a command...",value:this.state.input,onChange:this.handleInputChanged.bind(this)})})}):""]})})})]})]})}}]),n}(r.Component),se=Object(d.j)(ae),re=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Error 404. Not found."})})}}]),n}(r.Component);var ce=function(){var e;function t(){return F.a.get("token")}return Object(g.jsx)(u.a,{children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(d.b,{exact:!0,path:"/",children:t()?Object(g.jsx)(z,{}):Object(g.jsx)(d.a,{to:"/login"})}),Object(g.jsx)(d.b,{exact:!0,path:"/server/:uuid",children:t()?Object(g.jsx)(se,{}):Object(g.jsx)(d.a,{to:"/login"})}),Object(g.jsx)(d.b,{exact:!0,path:"/server/:uuid/files",children:t()?Object(g.jsx)(Z,{}):Object(g.jsx)(d.a,{to:"/login"})}),Object(g.jsx)(d.b,(e={exact:!0,path:"/login"},Object(l.a)(e,"exact",!0),Object(l.a)(e,"component",(function(){return Object(g.jsx)(y,{})})),e)),Object(g.jsx)(d.b,{path:"*",component:re})]})})};var ie=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(ce,{})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,315)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[314,1,2]]]);
//# sourceMappingURL=main.565c29e2.chunk.js.map